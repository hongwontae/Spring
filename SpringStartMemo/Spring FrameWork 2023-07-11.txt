Spring FrameWork 2023-07-11

Spring bean의 기본 초기화는 즉시 초기화이다.

Spring Context를 사용하면 바로 초기화가 되었다.

빈을 사용하지도 빈에서 메서드를 호출하지 않아도 자동으로 초기화가 된다는 뜻이다.

초기화를 원하지 않을 때는 @Lazy를 사용한다. 빈을 사용시 초기화를 한다는 뜻이다.
@Component를 사용하는 모든 클래스나 Bean를 사용한 메서드에서 @Lazy가 사용가능하다.
@Configuration 클래스에서도 사용가능하다.
=> Lazy를 사용하면 런타임시에 오류를 잡는다. 별로 권장되지 않는 어노테이션이다.


@Scope
상수는 보면 prototype이라는 값이 있다.
@Scope() => value에 scope_pro~~ 설정하면 프로토 타입이 된다.

일반 클래스 vs 프로토 타입 클래스

일반 클래스의 인스턴스는 항상 같다.
프로토 타입 클래스는 항상 spring context에서 새로운 Bean를 가져온다.

기본적으로 spring에서 생성되는 빈은 모두 싱글톤이다.
싱글톤은 Spring ioc 컨테이너당 객체 인스턴스가 딱 하나이다.
반면에 프로토타입에서는 Spring IOC 컨테이너당 객체 인스턴스가 여러 개일 수 있다.

요약 => 싱글톤은 하나의 객체를 가지고 인스턴스를 만드는 것을 재활용한다.
     => 프로토타입은 하나의 객체를 가지고 인스턴스를 재활용하지 않고 계속 만들고, 만들고, 만들고 준다.








